# 함수형 프로그래밍

### 1. 명령형 프로그래밍이란?

>  **HOW**
>
> 어떻게 풀어내는지에 집중하는 프로그래밍

프로그래밍의 상태, 상태를 변경시키는 구문의 관점에서 연산을 설명하는 방식



#### 1.1. 절차 지향 프로그래밍

> 데이터 (변수) 중심 프로그래밍

**절차지향 프로그래밍**이란 물이 위에서 아래로 흐르는 것처럼 순차적인 처리가 중요시 되며 프로그램 전체가 유기적으로 연결되도록 만드는 프로그래밍 기법이다. 대표적인 언어로는 `C`가 있다.



* 장점
  * 컴퓨텅의 처리구조와 유사해 실행 속도가 빠름
* 단점
  * 유지 보수가 어려움
  * 실행 순서가 정해져 있으므로 코드의 순서가 바뀌면 동일한 결과를 보장하기 어려움
  * 디버깅이 어려움



#### 1.2. 객체 지향 프로그래밍

> 객체 중심 프로그래밍

**객체 지향** 은 실제 세계를 모델링하여 소프트웨어를 개발하는 방법이다. **객체 지향 프로그래밍**에서는 데이터와 절차를 하나의 덩어리로 묶어서 프로그래밍한다.



* ##### 특징

  * **캡슐화**

  > 일반적으로 연관있는 변수와 함수를 클래스로 묶는 작업

  * **상속**

  > 이미 작성된 클래스를 이어 받아서 새로운 클래스를 생성하는 기법

  * **다형성**

  >  프로그램 언어의 다형성은 그 프로그래밍 언어의 자료형 체계의 성질을 나태내는 것으로 프로그램 언어의 각 요소들(상수, 변수, 식, 오브젝트, 함수, 메소스 등)이 다양한 자료형에 속하는 것이 허가되는 성질



* **장점**
  
  * 코드의 재활용성이 높음
  * 코딩이 절차지향보다 간편함
    * 신뢰성 있는 소프트웨어를 쉽게 작성가능
  * 디버깅이 쉬움		
  
  
  
* **단점**

  * 절차 지향 방식에 비해 프로그램의 사이즈가 클 가능성이 있다. 
  * 처리 속도가 절차지향보다 느림
  * 설계에 많은 시간 소요가 들어감

  

---



### 2. 선언형 프로그래밍이란?

> **What**
>
> 무엇을 풀어내는지에 집중하는 프로그래밍 

프로그램이 어떤 방법으로 해야하는지를 나타내기보다 무엇과 같은지를 설명하는 경우에 "선언형"이라고 한다.



#### 2.1. 함수형 프로그래밍

함수형 프로그래밍 `FP`는 **순수 함수**를 생성하여 소프트웨어 구조를 생각하는 것이다. `FP`는 `OOP`에서 발견되는 공유 상태, 변경가능한 데이터의 개념을 피한다.



> **부수 효과 - Side Effect**
>
> 1. 변수의 값이 변경됨
> 2. 자료 구조를 제자리에서 수정함
> 3. 객체의 필드값을 설정함
> 4. 예외나 오류가 발생하며 실행이 중단됨
> 5. 콘솔 또는 파일 I/O가 발생함



> **순수 함수 - Pure function**
>
> 동일한 입력 결과에 대해서 항상 동일한 출력을 보장하는 함수, 즉 참조 투명성이 있는 함수
>
> * side effect가 없는 함수
> * 함수의 실행이 외부에 영향을 끼치지 않는 함수



> **1급 객체 - First-Class object**
>
> * 변수나 데이터 구조 안에 담을 수 있다.
> * 파라미터로 전달 할 수 있다.
> * 반환값으로 사용할 수 있다.
> * 할당에 사용된 이름과 무관하게 고유한 구별이 가능하다.



> **고차 함수 - higher-order function**
>
> 함수를 입력 인자로 받을 수 있고 출력이 함수가 될 수 있는 함수



* 장점

  1. 높은 수준의 추상화를 제공한다.
  2. 함수 단위의 코드 재사용이 수월하다
  3. 불변성을 지향하기 때문에 프로그램의 동작을 예측하기 쉬워진다.

  

* 단점
  1. 순수 함수를 구현하기 위해서는 코드의 가독성이 좋지 않을 수 있다.
  2. 함수형 프로그래밍에서는 반복이 for문이 아닌 재귀를 통해서 이루어지는데, 재귀적 코드 스타일은 무한 루프에 빠질 수 있다.
  3. 순수함수를 사용하는 것은 쉬울 수 있지만 조합하는 것은 쉽지 않다.



##### 2.1.1 왜 함수형 프로그램을 사용하는가?

* **동시성 프로그래밍**의 용이함

"반도체에 집적하는 트랜지스터 수는 2년마다 2배로 증가한다. "는 무어의 법칙은 단일 칩의 성능의 향상이 해가 지날 수록 급격하게 증가해온 현상을 대변하는 법칙이었다. 하지만 기술의 고도화로 인해서 더 이상 급격한 성능 향상이 어려워졌다. 이를 해결하기 위해서 반도체를 회사들은 하나의 칩 속도를 높이는 방식을 벗어나서 여러 개의 칩이 병렬적으로 동작하도록 하는 방식을 사용하여 CPU 성능을 향상 시키지고 하였다. 이러한 멀티 코어 구조를 잘 활용하기 위해서는 멀티 스레드를 이용한 어플리케이션의 필요성, 동시성 프로그래밍의 필요성이 강해질 수 밖에 없었다.

스레드 간에 공유되는 __변경가능한 변수(mutable)__들을 제어해야하기 때문에 명령형 프로그래밍에서 동시성 프로그래밍은 개발하기 힘들다. 

반면에 함수형 프로그래밍은 사용하는 모든 데이터가 __변경 불가능(immutable)__하고 함수는 부수 효과를 가지고 있지 않기 때문에, 여러 스레드가 동시에 공유 데이터에 접근하더라도 해당 데이터가 변경될 염려를 덜어도 괜찮다.

